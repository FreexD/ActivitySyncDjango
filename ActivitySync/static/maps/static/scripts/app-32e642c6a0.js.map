{"version":3,"sources":["static/scripts/app.js"],"names":["angular","module","MainController","$http","$scope","$state","facebookStatus","moment","get","then","result","disciplines","data","events","sportEvent","disciplineID","players","since","to","add","address","getEvents","params","toString","console","log","openEvent","eventID","go","setNow","setDayAgo","subtract","setWeekAgo","setDay","setWeek","setMonth","$inject","controller","EventController","$stateParams","e","commentContent","teams","comments","center","lat","lng","mapLat","mapLng","coordinates","parseFloat","split","map","google","maps","Map","document","getElementById","zoom","Marker","position","panTo","EditEventController","placeMarkerAndPanTo","latLng","marker","setMap","logged","addListener","save","defaults","headers","common","post","parseInt","date","level","getPosition","numberOfFreePlaces","numberOfPlayers","eventDescription","description","reserveList","CreateEventController","Date","places","create","menuBar","$window","link","scope","element","attrs","on","event","state","template","directive","this","token","service","facebookBtns","Facebook","login","username","password","response","logout","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","url","templateUrl","controllerAs","otherwise","config","constant","$logProvider","FacebookProvider","$mdDateLocaleProvider","debugEnabled","init","formatDate","format","$templateCache","put"],"mappings":"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","file":"static/scripts/app-32e642c6a0.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('playNow', [\n      'ngAnimate',\n      'restangular',\n      'ui.router',\n      'ngMaterial',\n      'toastr',\n      'facebook',\n      'ngMaterialDatePicker'\n    ]);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('playNow')\n    .controller('MainController', MainController);\n\n  function MainController($http, $scope, $state, facebookStatus, moment) {\n      \n    $http.get(\"/disciplines/all\").then(function (result) {\n        $scope.disciplines = result.data;\n    });\n\n    $http.get(\"/events/all\").then(function (result) {\n        $scope.events = result.data;\n    });\n\n    $scope.facebookStatus = facebookStatus;\n    $scope.events = [];\n\n    $scope.sportEvent = {\n      disciplineID: 0,\n      players: \"\",\n      since: moment(),\n      to: moment().add(1,'days'),\n      address: \"\"\n    };\n\n    $scope.getEvents = function() {\n\n        $http.get(\"/events/find\", {\n          params: { disciplineID: $scope.sportEvent.disciplineID,\n                    since: moment($scope.sportEvent.since),\n                    to: moment($scope.sportEvent.to),\n                    address: $scope.sportEvent.address.toString() || null\n          }\n        }).then(function (result) {\n          console.log(result.data);\n          $scope.events = result.data;\n        });\n    };\n\n     $scope.openEvent = function(eventID) {\n        $state.go('event',{eventID: eventID});\n     };\n\n      $scope.setNow = function() {\n        $scope.sportEvent.since = moment();\n      };\n      $scope.setDayAgo = function() {\n        $scope.sportEvent.since = moment().subtract(1, 'days');\n      };\n      $scope.setWeekAgo = function() {\n        $scope.sportEvent.since = moment().subtract(1, 'weeks');\n      };\n\n      $scope.setDay = function() {\n        $scope.sportEvent.to = moment().add(1, 'days');\n      };\n      $scope.setWeek = function() {\n        $scope.sportEvent.to = moment().add(1, 'weeks');\n      };\n      $scope.setMonth = function() {\n        $scope.sportEvent.to = moment().add(1, 'months');\n      };\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('playNow')\n    .controller('EventController', EventController);\n\n  function EventController($http, $scope, $stateParams, facebookStatus, $state) {\n\n        $scope.facebookStatus = facebookStatus;\n\n        var eventID = $stateParams.eventID;\n        var reserveListPlayer = false;\n        console.log(eventID);\n        $scope.facebookStatus = facebookStatus;\n        $scope.e = {};\n        $scope.commentContent = '';\n        $scope.teams = [];\n        $scope.comments = [] ;\n\n        $http.get(\"/events/\" + eventID).then(function (result) {\n          console.log(result.data);\n          $scope.e = result.data;\n\n          // Map\n          var center = {lat: 50.061671, lng: 19.942382 };\n          var mapLat = 50.061671;\n          var mapLng =  19.942382;\n\n          if($scope.e.coordinates != null) {\n            mapLat = parseFloat($scope.e.coordinates.split(',')[0]);\n            mapLng = parseFloat($scope.e.coordinates.split(',')[1]);\n          }\n\n          var map = new google.maps.Map(document.getElementById('google-map'), {\n            zoom: 12,\n            center: center\n          });\n\n          var marker = new google.maps.Marker({\n            position: {lat: mapLat, lng: mapLng },\n            map: map\n          });\n\n          map.panTo({lat: mapLat, lng: mapLng });\n\n\n        });\n\n        // $http.get(\"/users/getUserTeams\").then(function (result) {\n        //   $scope.teams = result.data;\n        // });\n        //\n        // $http.post(\"/events/getComments/\"+eventID).then(function (result) {\n        //   $scope.comments = result.data;\n        // });\n        //\n        //\n        // $scope.addTeam = function(addTeamVal) {\n        //\n        //   console.log(addTeamVal);\n        //   $http.defaults.headers.common['teamID'] = $scope.addTeamVal;\n        //\n        //   $http.post(\"/events/addTeam\",{\n        //     eventID: eventID,\n        //     teamID: parseInt(addTeamVal)\n        //   }).then(function (result) {\n        //     $scope.e = result.data;\n        //   });\n        //\n        // };\n        //\n        //\n        // $scope.addMe = function() {\n        //\n        //   $http.post(\"/events/addPlayer?eventID=\"+eventID+\"&reserveListPlayer=\"+reserveListPlayer).then(function (result) {\n        //     $scope.e = result.data;\n        //   });\n        //\n        // };\n        //\n        // $scope.removeMe = function() {\n        //\n        //   $http.post(\"/events/removePlayer?eventID=\"+eventID+\"&reserveListPlayer=\"+reserveListPlayer).then(function (result) {\n        //     $scope.e = result.data;\n        //   });\n        //\n        // };\n        //\n        //\n        // $scope.addComment = function() {\n        //\n        //   $http.post(\"/events/addComment\", {\n        //     content: $scope.commentContent,\n        //     date: new Date().getTime(),\n        //     eventID: parseInt(eventID)\n        //   }).then(function (result) {\n        //     console.log(result);\n        //     $scope.commentContent = '';\n        //     $scope.comments = result.data;\n        //\n        //   });\n        //\n        // };\n        //\n        //\n        // $scope.editEvent = function() {\n        //   $state.go('editEvent',{eventID: eventID});\n        // };\n\n//    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('playNow')\n    .controller('EditEventController', EditEventController);\n\n  function EditEventController($http, $scope, $state, $stateParams, facebookStatus, moment) {\n\n    var eventID = $stateParams.eventID;\n    $scope.disciplines = [];\n\n    $http.get(\"/disciplines/all\").then(function (result) {\n      $scope.disciplines = result.data;\n    });\n\n    $scope.sportEvent = {};\n\n\n    // Map\n    var center = {lat: 50.061671, lng: 19.942382 };\n\n    var map = new google.maps.Map(document.getElementById('google-map'), {\n      zoom: 12,\n      center: center\n    });\n\n    var marker = null;\n\n    function placeMarkerAndPanTo(latLng, map) {\n      if (marker !=null) marker.setMap(null);\n      marker = new google.maps.Marker({\n        position: latLng,\n        map: map\n      });\n    }\n    if(facebookStatus.logged) {\n\n      $http.get(\"/events/find/\" + eventID).then(function (result) {\n        console.log(result.data);\n        $scope.sportEvent = result.data;\n\n        var mapLat = parseFloat($scope.sportEvent.coordinates.split(',')[0]);\n        var mapLng = parseFloat($scope.sportEvent.coordinates.split(',')[1]);\n\n        marker = new google.maps.Marker({\n          position: {lat: mapLat, lng: mapLng},\n          map: map\n        });\n\n        map.panTo({lat: mapLat, lng: mapLng});\n\n        map.addListener('click', function (e) {\n          placeMarkerAndPanTo(e.latLng, map);\n        });\n\n      });\n    }\n\n\n    $scope.save = function() {\n\n      $http.defaults.headers.common['eventID'] = eventID;\n\n      $http.post(\"/events/updateSportsEvent/\"+eventID, {\n        address: $scope.sportEvent.address.toString() || null,\n        disciplineID: parseInt($scope.sportEvent.disciplineID),\n        date: moment($scope.sportEvent.date),\n        level: $scope.sportEvent.level,\n        coordinates: marker.getPosition().lat()+','+marker.getPosition().lng(),\n        numberOfFreePlaces: parseInt($scope.sportEvent.numberOfPlayers),\n        eventDescription: $scope.sportEvent.description.toString() || null,\n        reserveList: $scope.sportEvent.reserveList\n      }).then(function (result) {\n        $state.go('event',{eventID: eventID});\n      });\n\n    };\n\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('playNow')\n    .controller('CreateEventController', CreateEventController);\n\n  function CreateEventController($http, $scope, $state, facebookStatus, moment) {\n\n    $scope.facebookStatus = facebookStatus;\n\n    $scope.disciplines = [];\n\n    $scope.sportEvent = {\n      disciplineID: \"\",\n      date: new Date(),\n      address: \"\",\n      lat:\"\",\n      lng:\"\",\n      description: \"\",\n      places: 10\n    };\n\n\n    $scope.create = function() {\n\n      $http.post(\"/events/create\", {\n        address: $scope.sportEvent.address.toString() || null,\n        disciplineID: parseInt($scope.sportEvent.disciplineID),\n        date: moment($scope.sportEvent.date),\n        lat: marker.getPosition().lat(),\n        lng: marker.getPosition().lng(),\n        places: parseInt($scope.sportEvent.places),\n        description: $scope.sportEvent.description.toString() || null\n      }).then(function (result) {\n        $state.go('home');\n      });\n    };\n\n    if(facebookStatus.logged) {\n\n      $http.get(\"/disciplines/all\").then(function (result) {\n        $scope.disciplines = result.data;\n      });\n\n\n      // Map\n      var center = {lat: 50.061671, lng: 19.942382};\n      var mapLat = 50.061671;\n      var mapLng = 19.942382;\n\n      var map = new google.maps.Map(document.getElementById('google-map'), {\n        zoom: 12,\n        center: center\n      });\n\n\n      var marker = new google.maps.Marker({\n        position: {lat: mapLat, lng: mapLng},\n        map: map\n      });\n\n      map.panTo({lat: mapLat, lng: mapLng});\n\n      map.addListener('click', function (e) {\n        placeMarkerAndPanTo(e.latLng, map);\n      });\n    }\n\n\n    function placeMarkerAndPanTo(latLng, map) {\n      if (marker !=null) marker.setMap(null);\n      marker = new google.maps.Marker({\n        position: latLng,\n        map: map\n      });\n    }\n\n  }\n})();\n\n(function() {\n    /*jshint unused:false*/\n\n    'use strict';\n\n    angular\n    .module('playNow')\n    .directive(\"menuBar\", menuBar);\n\n    function menuBar($window)\n    {\n        return {\n            link: function(scope, element, attrs) {\n                element.on('click',function(event) {\n\n                });\n            },\n            controller: function($scope, $http, $state, facebookStatus) {\n\n              $scope.go = function(state) {\n                $state.go(state);\n              }\n\n            },\n            template: '<div class=\"menu\" ng-if=\"facebookStatus.logged\">'+\n                        '<ul>'+\n                          '<li ng-click=\"go(\\'home\\')\">Events</li>'+\n                          '<li ng-click=\"go(\\'createEvent\\')\">Create event</li>'+\n                        '</ul>'+\n                      '</div>'\n\n        };\n    }\n\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n      .module('playNow')\r\n      .service('facebookStatus', facebookStatus);\r\n\r\n  function facebookStatus() {\r\n\r\n    this.logged = false;\r\n    this.token = null;\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\n    /*jshint unused:false*/\n\n    'use strict';\n\n    angular\n    .module('playNow')\n    .directive(\"facebookBtns\", facebookBtns);\n\n    function facebookBtns($window)\n    {\n        return {\n            link: function(scope, element, attrs) {\n                element.on('click',function(event) {\n\n                });\n            },\n            controller: function($scope, $http, $state, Facebook, facebookStatus) {\n\n              $scope.login = function(username, password) {\n\n                $http.post(\"/api-auth-token\", {\n                  username: username,\n                  password: password\n                }).then(function (response) {\n                    facebookStatus.token = response.token;\n                    facebookStatus.logged = true;\n                    $http.defaults.headers.common['Authorization'] = facebookStatus.token;\n                    console.log('authorized');\n                });\n                //facebookStatus.token = \"234\";\n                //facebookStatus.logged = true;\n                //$http.defaults.headers.common['Authorization'] = facebookStatus.token;\n                //console.log('authorized');\n              };\n\n              $scope.logout = function() {\n                $http.post(\"/logout\").then(function (response) {\n                  facebookStatus.token = null;\n                  facebookStatus.logged = false;\n                  $http.defaults.headers.common['Authorization'] = null;\n                  console.log('authorized');\n                });\n              }\n\n            },\n            template: '<div class=\"fb\" ng-if=\"!facebookStatus.logged\">'+\n                      '<md-input-container>'+\n                        '<label>Username</label>'+\n                        '<input type=\"text\" ng-model=\"username\">'+\n                      '</md-input-container>'+\n                      '<md-input-container>'+\n                        '<label>Password</label>'+\n                        '<input type=\"password\" ng-model=\"password\">'+\n                      '</md-input-container>'+\n                      '<md-input-container>'+\n                        '<md-button class=\"btn-fb md-raised md-primary\" ng-click=\"login(username,password)\" >'+\n                        'Login'+\n                        '</md-button>'+\n                        '<md-button class=\"btn-fb md-raised md-warn\" ng-click=\"logout()\" ng-if=\"facebookStatus.logged\">'+\n                        'Logout'+\n                        '</md-button>'+\n                      '</md-input-container>'+\n                      '</div>'+\n                      '<div class=\"fb logout\" ng-if=\"facebookStatus.logged\">'+\n                      '<md-input-container>'+\n                      '<md-button class=\"btn-fb md-raised md-warn\" ng-click=\"logout()\" ng-if=\"facebookStatus.logged\">'+\n                      'Logout'+\n                      '</md-button>'+\n                      '</md-input-container>'+\n                      '</div>'\n\n        };\n    }\n\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('playNow')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($log) {\r\n\r\n    $log.debug('runBlock end')\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('playNow')\n    .config(routerConfig);\n\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n\n      .state('createEvent', {\n        url: '/createEvent',\n        templateUrl: 'app/createEvent/createEvent.html',\n        controller: 'CreateEventController',\n        controllerAs: 'createEvent'\n      })\n          .state('editEvent', {\n            url: '/editEvent/:eventID',\n            templateUrl: 'app/editEvent/editEvent.html',\n            controller: 'EditEventController',\n            controllerAs: 'editEvent'\n          })\n\n          .state('event', {\n            url: '/event/:eventID',\n            templateUrl: 'app/event/event.html',\n            controller: 'EventController',\n            controllerAs: 'event'\n          })\n\n      .state('teams', {\n        url: '/teams',\n        templateUrl: 'app/teams/teams.html',\n        controller: 'TeamsController',\n        controllerAs: 'teams'\n      })\n\n          .state('team', {\n            url: '/team/:teamID',\n            templateUrl: 'app/team/team.html',\n            controller: 'TeamController',\n            controllerAs: 'team'\n          })\n\n      .state('teamsManager', {\n        url: '/teamsManager',\n        templateUrl: 'app/teamsManager/teamsManager.html',\n        controller: 'TeamsManagerController',\n        controllerAs: 'teamsManager'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global moment:false */\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('playNow')\r\n    .constant('moment', moment);\r\n\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('playNow')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, FacebookProvider,$mdDateLocaleProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n    FacebookProvider.init('1107104462666270');\n\n    $mdDateLocaleProvider.formatDate = function(date) {\n      return moment(date).format('YYYY-MM-DD');\n    };\n  }\n\n})();\n\nangular.module(\"playNow\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/createEvent/createEvent.html\",\"<div class=content><facebook-btns></facebook-btns><section class=jumbotron><h1>ActivitySync!</h1></section><menu-bar></menu-bar><div class=center ng-show=facebookStatus.logged><div class=event-details><div class=\\\"event-content create-event\\\"><h2>Create new event</h2><div class=details><table><tr><td><md-input-container><label>Discipline</label><md-select ng-model=sportEvent.disciplineID aria-label=Select><md-option ng-repeat=\\\"d in disciplines\\\" value={{d.id}} selected>{{d.name}}</md-option></md-select></md-input-container></td></tr><tr><td><md-input-container><label>Address</label><input ng-model=sportEvent.address></md-input-container></td></tr><tr><td><md-input-container><label>Places</label><input ng-model=sportEvent.places></md-input-container></td></tr><tr><td><md-input-container><input mdc-datetime-picker=\\\"\\\" date=true time=true type=text id=datetime3 class=datetime placeholder=Date min-date=date ng-model=sportEvent.date class=md-input></md-input-container></td></tr><tr><td><md-input-container><label>Description</label><textarea ng-model=sportEvent.description></textarea></md-input-container></td></tr></table></div><md-button class=\\\"md-raised md-warn\\\" ng-click=create();>Create</md-button></div><div class=event-map><h2>Map</h2><div id=google-map></div></div></div></div></div>\");\n$templateCache.put(\"app/editEvent/editEvent.html\",\"<div class=content><facebook-btns></facebook-btns><section class=jumbotron><h1>PlayNow!</h1></section><menu-bar></menu-bar><div class=center ng-show=facebookStatus.logged><div class=event-details><div class=\\\"event-content create-event\\\"><h2>Edit event</h2><div class=details><table><tr><td><md-input-container><label>Discipline</label><md-select ng-model=sportEvent.disciplineID aria-label=Select><md-option ng-repeat=\\\"d in disciplines\\\" value={{d.id}} ng-selected=\\\"d.id == sportEvent.discipline.id\\\">{{d.name}}</md-option></md-select></md-input-container></td></tr><tr><td><md-input-container><label>Address</label><input ng-model=sportEvent.address></md-input-container></td></tr><tr><td><md-input-container><label>Players</label><input ng-model=sportEvent.numberOfPlayers></md-input-container></td></tr><tr><td><md-input-container class=checkbox><md-checkbox md-no-ink ng-model=sportEvent.reserveList class=md-primary>Reserve list</md-checkbox></md-input-container></td></tr><tr><td><md-input-container><label>Level</label><md-select ng-model=sportEvent.level aria-label=Select><md-option value=easy selected>easy</md-option><md-option value=medium>medium</md-option><md-option value=hard>hard</md-option></md-select></md-input-container></td></tr><tr><td><md-input-container><input mdc-datetime-picker=\\\"\\\" date=true time=true type=text id=datetime3 class=datetime placeholder=Date min-date=date ng-model=sportEvent.date class=md-input></md-input-container></td></tr><tr><td><md-input-container><label>Description</label><textarea ng-model=sportEvent.description></textarea></md-input-container></td></tr></table></div><md-button class=\\\"md-raised md-warn\\\" ng-click=save()>Save</md-button></div><div class=event-map><h2>Map</h2><div id=google-map></div><!--<img src=\\\"assets/map.png\\\" />--></div></div></div></div>\");\n$templateCache.put(\"app/event/event.html\",\"<div class=content><facebook-btns></facebook-btns><section class=jumbotron><h1>ActivitySync!</h1></section><menu-bar></menu-bar><!--creator--><!--firstName\t\\\"Ksiadz\\\"--><!--lastName\t\\\"Robak\\\"--><!--email\t\\\"MickiewiczTo@gamil.com\\\"--><!--reliability\t0--><!--discipline--><!--name\t\\\"FootBall\\\"--><!--uniqueID\t\\\"football\\\"--><!--id\t2--><!--sportEventID\t18--><!--date\t1461863241195--><!--address\t\\\"tam\\\"--><!--level\t\\\"easy\\\"--><!--description--><!--reserveList\ttrue--><!--numberOfPlayers\t12--><!--<div class=\\\"center\\\" ng-if=\\\"facebookStatus.logged\\\">--><div class=center><div class=event-details><div class=event-content><h2>Event</h2><div class=details><table><tr><td><md-icon aria-label=Menu class=material-icons>label_outline</md-icon></td><td>{{ e.discipline.name }}</td></tr><tr><td><md-icon aria-label=Menu class=material-icons>room</md-icon></td><td>{{ e.location.name }}</td></tr><tr><td><md-icon aria-label=Menu class=material-icons>insert_invitation</md-icon></td><td>{{ e.date | date: \\'dd-MM-yyyy\\' }}</td></tr><tr><td><md-icon aria-label=Menu class=material-icons>schedule</md-icon></td><td>{{ e.date | date: \\'HH:mm\\' }}</td></tr><tr><td><md-icon aria-label=Menu class=material-icons>group</md-icon></td><td>{{ e.places }}</td></tr></table></div><h2>Organizer</h2><div class=details><table><tr><td><md-icon aria-label=Menu class=material-icons>face</md-icon></td><td>{{ e.organizer.user.first_name }} {{ e.organizer.user.last_name }} ({{ e.organizer.creditability }})</td></tr><tr><td><md-icon aria-label=Menu class=material-icons>local_post_office</md-icon></td><td>{{ e.organizer.user.email }}</td></tr></table></div></div><div class=event-map><h2>Map</h2><div id=google-map></div></div><div class=description><h2>Description</h2><p>{{ e.description }}</p></div><div class=players><h2>Players</h2><table><tr ng-repeat=\\\"p in e.players\\\"><td><md-icon aria-label=Menu class=material-icons>perm_identity</md-icon></td><td>{{ p.firstName }} {{ p.lastName }} ({{ p.reliability }})</td></tr></table><md-button ng-if=!e.userParticipant class=\\\"btn-join md-raised md-warn\\\" ng-click=addMe()>Join</md-button></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=content><facebook-btns></facebook-btns><section class=jumbotron><h1>ActivitySync!</h1></section><menu-bar></menu-bar><div class=left ng-if=facebookStatus.logged><!--<div class=\\\"left\\\">--><md-input-container><label>Discipline</label><md-select ng-model=sportEvent.disciplineID aria-label=Select><md-option ng-repeat=\\\"d in disciplines\\\" value={{d.id}} selected>{{d.name}}</md-option></md-select></md-input-container><md-input-container><input mdc-datetime-picker=\\\"\\\" date=true time=true type=text id=datetime1 class=datetime placeholder=Since ng-model=sportEvent.since class=md-input><md-button class=\\\"date-select md-raised md-default\\\" ng-click=setNow();>Now</md-button><md-button class=\\\"date-select md-raised md-default\\\" ng-click=setDayAgo();>Day ago</md-button><md-button class=\\\"date-select md-raised md-default\\\" ng-click=setWeekAgo();>Week ago</md-button></md-input-container><md-input-container><input mdc-datetime-picker=\\\"\\\" date=true time=true type=text id=datetime2 class=datetime placeholder=To ng-model=sportEvent.to class=md-input><md-button class=\\\"date-select md-raised md-default\\\" ng-click=setDay();>Day</md-button><md-button class=\\\"date-select md-raised md-default\\\" ng-click=setWeek();>Week</md-button><md-button class=\\\"date-select md-raised md-default\\\" ng-click=setMonth();>Month</md-button></md-input-container><!--<md-datepicker ng-model=\\\"sportEvent.since\\\" md-placeholder=\\\"Since date\\\"></md-datepicker>--><!--<md-datepicker ng-model=\\\"sportEvent.to\\\" md-placeholder=\\\"To date\\\"></md-datepicker>--><md-input-container><label>Address</label><input ng-model=sportEvent.address></md-input-container><md-button class=\\\"md-raised md-warn\\\" ng-click=getEvents();>Filter</md-button></div><div class=right ng-if=facebookStatus.logged><!--<div class=\\\"right\\\">--><div class=event ng-repeat=\\\"e in events\\\"><div class=\\\"header header-football\\\"><md-button class=\\\"md-raised btn-event-details\\\" ng-click=openEvent(e.id)>Details</md-button>{{ e.discipline.name }}</div><div class=event-content><div class=details><table><tr><td><md-icon aria-label=Address class=material-icons>room</md-icon>{{ e.location.name}}</td><td><md-icon aria-label=Date class=material-icons>insert_invitation</md-icon>{{ e.date | date: \\'dd-MM-yyyy\\' }}</td></tr><tr><td><md-icon aria-label=Places class=material-icons>group</md-icon>{{ e.places }}</td><td><md-icon aria-label=Time class=material-icons>schedule</md-icon>{{ e.date | date: \\'HH:mm\\' }}</td></tr></table></div></div><div class=footer></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}